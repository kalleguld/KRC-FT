<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Create new User</title>
    </h:head>
    <h:body>
		<header>
            <h:form id="nav"> 
                <ul>
                    <li><h:commandLink value="Home" action="index.xhtml"/></li>
                    <li><h:commandLink value="Login" action="login.xhtml"/></li>
                </ul>
            </h:form>
        </header>
		<h3>Create new user</h3>
		<h:form>
			<table>
				<tr>
					<td>Username:</td>
					<td>
						<h:inputText id="username" value="#{sessionBean.loginName}">
							<f:validator validatorId="validation.NewUsernameValidator"/>
						</h:inputText>
					</td>
					<td>
						<h:message for="username" styleClass="error" />
					</td>
				</tr>
				<tr>
					<td>Password:</td>
					<td>
						<h:inputSecret id="pass1" value="#{sessionBean.loginPassword}">
							<f:validator validatorId="validation.NewPasswordValidator"/>
						</h:inputSecret>
					</td>
					<td>
						<h:message for="pass1" styleClass="error" />
					</td>
				</tr>
				<tr>
					<td>Repeat:</td>
					<td>
						<h:inputSecret id="pass2" value="#{sessionBean.loginPassRepeat}">
							<f:validator validatorId="validation.RepeatPasswordValidator"/>
						</h:inputSecret>
					</td>
					<td>
						<h:message for="pass2" styleClass="error" />
					</td>
				</tr>
				<tr>
					<td></td>
					<td>
						<h:commandButton action="#{sessionBean.createUser()}"
										 value="Create"/>
					</td>
				</tr>
			</table>
		</h:form>
    </h:body>
</html>